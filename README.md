# site-watcher

このリポジトリは、GitHub Actions ワークフローのみでウェブサイトの監視と通知を行うことを目的としています。シンプルな監視ロジックと通知ワークフロー（Slack / Discord などへの通知を想定）を提供します。

**主な内容**
- ワークフロー: `.github/workflows/` 配下の YAML ファイル
- 監視対象サイトのポーリングおよび変更検知
- 通知（Webhook / メッセージ送信）のためのサンプル実装

**含まれるワークフロー**
- `test_notify.yml` - 通知のテスト用ワークフロー
- `watch_vivalidi.yml` - サイト監視ワークフロー（例）

**使い方（概要）**
1. このリポジトリをフォークまたはコピーします。
2. `.github/workflows/` にあるワークフローを有効化（既存のリポジトリに配置されている場合はそのまま動作します）。
3. 必要に応じてワークフロー内の監視 URL やスケジュール、通知先を編集します。サイトによって更新個所を特定する方法は異なります。このワークフローでは、Vivaldiブログの更新を検知しています。
https://vivaldi.com/ja/blog/latest/
4. シークレットや環境変数（例: `SLACK_WEBHOOK_URL`, `DISCORD_WEBHOOK_URL` など）をリポジトリの Settings → Secrets に設定します。

**設定例（通知先シークレット）**
- `SLACK_WEBHOOK_URL`: Slack の Incoming Webhook URL
- `DISCORD_WEBHOOK_URL`: Discord の Webhook URL
- その他、ワークフローで参照される環境変数やシークレットを確認して設定してください。

**カスタマイズ**
- 監視間隔や検知ロジック（応答コードチェック、コンテンツ差分検出など）はワークフロー内のスクリプトを編集して調整できます。
- 通知フォーマットや送信先を追加する場合は、ワークフローの該当ステップを編集してください。

**テスト**
- 通知の確認は `test_notify.yml` を手動実行して動作を検証してください。

**ライセンス**
- MIT

---
問題や改善提案があれば Issue を作成してください。
